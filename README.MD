# Markdown test

```html
имеется форма, пользователь вводит текст, где жирность и курсив указывает в формате markdown
при изменении текста отправляется запрос на сервер с этим текстом
сервер должен вернуть html, соответствующий заданному форматированию
динамически выводить этот html под формой ввода
обработка текста должна происходить на сервере (в JS её делать не нужно)
должны обрабатываться только жирность и курсив, другое форматирование учитываться не должно
не использовать jQuery
использовать symfony
написать пояснительную записку почему выбрали именно такую реализацию
```

## Установка
**Разработано для Symfony 6+.**

Запустить команду: `composer require web-masta/markdown-test`

В корневой `/config/routes.yaml` проекта добавить:
```
markdown:
    resource: ../vendor/web-masta/markdown-test/src/Controllers/
    type: annotation
```

В корневой `/config/services.yaml` добавить:
```
    WebMasta\MarkdownTest\Controllers\:
        resource: '../vendor/web-masta/markdown-test/src/Controllers/'
        tags: ['controller.service_arguments']
```

В `/config/packages/twig.yaml` в секции `twig` добавить:

```
    paths:
        '%kernel.project_dir%/vendor/web-masta/markdown-test/templates': ~
```

## Использование
Проверить работу можно по роуту `/markdown`.

## Пояснение

* Контроллер рендерит форму с полем `textarea`.
* Javascript на каждое изменение поля отправляет `post` запрос на отдельный `endpoint` через функцию `fetch()`.
* Endpoint:
  * делает базовую очистку пользовательского ввода,
  * проверяет пришёл ли `post` запрос,
  * имеются ли в нём необходимые данные.
* Полученная строка обрабатывается и возвращается отформатированный HTML в `json` формате.
* По условиям задачи учитывается только **жирный** текст и *курсив*. Формат написания:
  * `**жирный**` или `__жирный__`
  * `*курсив*` или `_курсив_`


**Выбрал такую реализацию, поскольку:**
* По условиям задачи не ясно, будет ли форма как-то использоваться в дальнейшем (отправлять данные).
* Поэтому решил *предполагаемый* формой `action` отделить от обработки Markdown в отдельном ендпоинте.
* Решение вынес в отдельный репозиторий и отделил от ядра Symfony, чтобы:
  * не перегружать код,
  * была возможность простого повторного использования.